<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlayMatatu - Play Matatu, Win Real Money!</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body class="min-vh-100">
    <div class="container py-4 py-md-5">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8 col-xl-6">
                <header class="text-center mb-4 mb-md-5">
                     <div class="mb-3">
                        <img src="/images/logo.png" alt="PlayMatatu Logo" style="max-width: 200px; height: auto;">
                    </div>
                   
                </header>

                <main>
                    <!-- Stake Form -->
                    <div id="stake-form" class="card shadow-lg border-0 rounded-4 mb-4">
                        <div class="card-body p-4 p-md-5">
                            <h2 class="card-title h4 mb-4 text-center fw-bold">Start Playing</h2>

                            <div class="mb-4">
                                <label for="phone" class="form-label fw-semibold">Phone Number</label>
                                <input type="tel" class="form-control form-control-lg rounded-3" id="phone" placeholder="+256 7XX XXX XXX" required>
                            </div>

                            <div class="mb-4">
                                <label for="stake" class="form-label fw-semibold">Stake Amount (UGX)</label>
                                <input type="number" class="form-control form-control-lg rounded-3" id="stake" placeholder="1000" min="1000" required>
                                <div class="form-text">Minimum: 1,000 UGX</div>
                            </div>

                            <div id="potential-win" class="alert alert-success rounded-3 mb-4 border-0">
                                <div class="d-flex align-items-center justify-content-center">
                                    <span class="me-2">üèÜ</span>
                                    <span>Win up to <span id="win-amount" class="fw-bold fs-5">0</span> UGX</span>
                                </div>
                            </div>

                            <button id="play-btn" class="btn btn-primary btn-lg w-100 rounded-3 fw-bold py-3">Play Now</button>
                        </div>
                    </div>

                    <!-- Waiting for Payment -->
                    <div id="waiting-payment" class="card shadow-lg border-0 rounded-4 mb-4 d-none">
                        <div class="card-body p-4 p-md-5 text-center">
                            <div class="mb-4">
                                <div class="spinner-border text-primary mb-3" role="status" style="width: 3rem; height: 3rem;">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <h2 class="card-title h4 mb-3 fw-bold">‚è≥ Waiting for Payment</h2>
                            </div>
                            <p class="mb-3 fs-5">Check your phone for the Mobile Money prompt.</p>
                            <p class="text-muted">Enter your PIN to complete payment.</p>
                        </div>
                    </div>

                    <!-- Waiting for Match -->
                    <div id="waiting-match" class="card shadow-lg border-0 rounded-4 mb-4 d-none">
                        <div class="card-body p-4 p-md-5 text-center">
                            <div class="mb-4">
                                <div class="spinner-border text-primary mb-3" role="status" style="width: 3rem; height: 3rem;">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                <h2 class="card-title h4 mb-3 fw-bold">üîç Finding Opponent</h2>
                            </div>
                            <p class="mb-3 fs-5">Payment received! Looking for an opponent...</p>
                            <p class="text-muted">You'll receive an SMS when matched, or wait here.</p>
                        </div>
                    </div>

                    <!-- Match Found -->
                    <div id="match-found" class="card shadow-lg border-0 rounded-4 mb-4 d-none">
                        <div class="card-body p-4 p-md-5 text-center">
                            <h2 class="card-title h4 mb-4 fw-bold text-success">‚úÖ Opponent Found!</h2>
                            <p class="mb-4 fs-5">Your game is ready. Click below to start playing!</p>
                            <a id="play-game-btn" href="#" class="btn btn-success btn-lg w-100 rounded-3 fw-bold py-3 mb-3">üéÆ Start Game</a>
                            <div class="mt-3">
                                <small class="text-muted">Or copy and share this link:</small>
                                <div class="input-group mt-2">
                                    <input type="text" id="game-url" class="form-control" readonly>
                                    <button id="copy-url-btn" class="btn btn-outline-secondary">üìã Copy</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Error Message -->
                    <div id="error-message" class="card shadow-lg border-danger border-3 rounded-4 mb-4 d-none">
                        <div class="card-body p-4 p-md-5 text-center">
                            <h2 class="card-title h4 mb-3 text-danger fw-bold">‚ùå Error</h2>
                            <p id="error-text" class="mb-4 fs-5"></p>
                            <button onclick="location.reload()" class="btn btn-outline-danger btn-lg px-5">Try Again</button>
                        </div>
                    </div>
                </main>

                <footer class="text-center mt-4 mt-md-5 pt-3 pt-md-4 border-top">
                    <nav>
                        <a href="#rules" id="rules-link" class="text-decoration-none text-primary fw-semibold me-3 me-md-4">Game Rules</a>
                        <span class="text-muted">|</span>
                        <a href="#terms" class="text-decoration-none text-primary fw-semibold ms-3 ms-md-4">Terms of Service</a>
                    </nav>
                </footer>
            </div>
        </div>

        <!-- Rules Modal -->
        <div id="rules-modal" class="modal fade" tabindex="-1">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content border-0 shadow-lg rounded-4">
                    <div class="modal-header bg-primary text-white border-0 rounded-top-4">
                        <h5 class="modal-title fw-bold fs-4">üìã Matatu Rules</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body p-4">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-primary me-3 mt-1">üéØ</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">Objective</h6>
                                        <p class="text-muted mb-0">Be the first to discard all your cards.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-success me-3 mt-1">üÉè</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">Matching</h6>
                                        <p class="text-muted mb-0">Play a card matching the top card by suit or rank.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-warning text-dark me-3 mt-1">8Ô∏è‚É£</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">Eight (Wild Card)</h6>
                                        <p class="text-muted mb-0">Change the suit to any you declare.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-danger me-3 mt-1">2Ô∏è‚É£</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">Two</h6>
                                        <p class="text-muted mb-0">Next player draws 2 cards (can stack).</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-info text-dark me-3 mt-1">JQ</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">Jack & Queen</h6>
                                        <p class="text-muted mb-0">Skip opponent's turn.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-secondary me-3 mt-1">üÉè</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">King</h6>
                                        <p class="text-muted mb-0">Can be played on any card.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="d-flex align-items-start mb-3">
                                    <span class="badge bg-light text-dark me-3 mt-1">‚ùì</span>
                                    <div>
                                        <h6 class="fw-bold mb-1">Can't play?</h6>
                                        <p class="text-muted mb-0">Draw one card from the deck.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr class="my-4">
                        <div class="text-center">
                            <p class="fw-bold text-success fs-5 mb-0">üèÜ Winner takes all! (minus 10% platform fee)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
